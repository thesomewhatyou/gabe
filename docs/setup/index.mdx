---
title: Setup
---

# Setup

Here are the steps to get Gabe running from source.

<details>
  <summary>Recommended system requirements</summary>
  <ul>
    <li>64-bit CPU/operating system</li>
    <li>Quad-core CPU or better</li>
    <li>512MB or more of RAM</li>
    <li>Unix-like operating system or VM (Ubuntu or Fedora recommended)</li>
  </ul>
</details>

:::warning
If you want to run the bot on Windows, use <a href="https://learn.microsoft.com/windows/wsl/install">Windows Subsystem for Linux</a>. These instructions target Unix-like environments.
:::

If questions pop up during setup, visit the #support channel on the <a href="https://gabe.net/support">Gabe Support server</a>.

:::tip
Prefer containerized deployments? Head over to the [container setup guide](../containers/).
:::

## 1. Install native dependencies

Install the system packages required by Gabe and its dependencies.

**Debian / Ubuntu (bookworm / noble or newer)**

```bash
sudo apt-get install git curl build-essential cmake ffmpeg sqlite3 ttf-mscorefonts-installer libmagick++-dev libvips-dev libzxing-dev
```

Older releases might require extra steps (e.g., manual installs of `libcgif-dev` or `meson`).

**Fedora / RHEL (38 / 9 or newer)**

```bash
sudo dnf install git curl cmake ffmpeg sqlite gcc-c++ ImageMagick-c++-devel vips-devel cabextract zxing-cpp-devel
```

You may need RPM Fusion / EPEL for some packages. RHEL derivatives often require <a href="https://rpms.remirepo.net">Remi's repo</a> for `vips`. To install MS core fonts:

```bash
sudo rpm -i https://downloads.sourceforge.net/project/mscorefonts2/rpms/msttcore-fonts-installer-2.6-1.noarch.rpm
```

**Alpine (3.17+)**

```bash
sudo apk add git curl msttcorefonts-installer python3 sqlite3 alpine-sdk cmake ffmpeg imagemagick-dev vips-dev zxing-cpp-dev
```

**Arch / Manjaro**

```bash
sudo pacman -S git curl cmake ffmpeg npm imagemagick libvips sqlite3 zxing-cpp
```

Install <a href="https://aur.archlinux.org/packages/ttf-ms-win10-auto/">`ttf-ms-win10-auto`</a> from the AUR for the Microsoft fonts.

**macOS (Homebrew)**

```bash
brew install cmake ffmpeg imagemagick libvips
```

The `zxing-cpp` formula is unavailable on macOS, so QR features will be disabled without extra work.

## 2. Install Node.js

Gabe targets Node.js 22.0.0 or newer. Using nvm makes version management easy:

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
nvm install 22
nvm use 22
```

Enable Corepack so the bundled `pnpm` shim becomes available:

```bash
corepack enable
```

## 3. Set up the database

Gabe supports SQLite (zero-config) and PostgreSQL (faster for large deployments).

:::tip
If you're new to databases, stick with SQLite.
:::

- **SQLite:** no setup needed—skip ahead.
- **PostgreSQL:** follow the [PostgreSQL guide](../postgresql/) and return once configured.

## 4. Clone the repo and install dependencies

```bash
cd ~
git clone --recursive https://github.com/Gabe/Gabe
cd Gabe
pnpm install
pnpm build
```

## 5. (Optional) Configure Lavalink

Lavalink powers music playback. Skip this if you do not need audio.

:::warning
Avoid public Lavalink lists—they're often unreliable or insecure. Running your own instance ensures feature parity and stability.
:::

Gabe requires Lavalink v4+, which needs Java 17 or later.

**Install Java**

```bash
# Debian / Ubuntu
sudo apt-get install openjdk-21-jdk

# Fedora / RHEL
sudo dnf install java-21-openjdk

# Alpine
sudo apk add openjdk21

# Arch / Manjaro
sudo pacman -S jdk-openjdk

# macOS
brew install openjdk
```

**Download and link Lavalink**

```bash
cd ~
mkdir Lavalink
cd Lavalink
curl -OL https://github.com/lavalink-devs/Lavalink/releases/latest/download/Lavalink.jar
ln -s ~/Gabe/application.yml .
```

Run the server with:

```bash
java -jar Lavalink.jar
```

:::info
Keep Lavalink running alongside Gabe—use `screen`, `tmux`, systemd, or another terminal session.
:::

## 6. Configure the bot

Gabe reads environment variables from `.env`. Copy the template and fill in values:

```bash
cp .env.example .env
nano .env
```

Create a Discord application, add a bot user, and paste its token into the `TOKEN` variable. Save and exit (`Ctrl+X`, then `Y`, then `Enter`).

Consult the [configuration reference](../config/) for variable descriptions.

## 7. Run the bot

Start Gabe with:

```bash
pnpm start
```

Generate an invite link via the Discord Developer Portal (`OAuth2` → `URL Generator`).

:::note
Select the `bot` and `applications.commands` scopes and grant the permissions highlighted in the dashboard screenshot.
:::

For 24/7 hosting, install and use PM2:

```bash
pnpm add -g pm2
pm2 start ecosystem.config.cjs
```

:::tip
To update later:

```bash
git pull
pnpm install
pnpm build
```

:::

## Troubleshooting

<details>
  <summary>Error: Cannot find module './build/Release/image.node'</summary>
  <p>
    Run <code>pnpm build</code> to compile the native image bindings.
  </p>
</details>

<details>
  <summary>
    <code>pnpm install</code> or <code>pnpm build</code> fails with ELIFECYCLE
  </summary>
  <p>
    Install <code>node-gyp</code> manually and reinstall dependencies:
  </p>
  <pre>
    <code>pnpm i -g node-gyp rm -rf node_modules pnpm install</code>
  </pre>
</details>

<details>
  <summary>Error: connect ECONNREFUSED 127.0.0.1:5432</summary>
  <p>
    PostgreSQL is not running. Start it with{" "}
    <code>sudo systemctl start postgresql</code> or double-check the{" "}
    <code>DB</code> value in <code>.env</code> if you intended to use SQLite.
  </p>
</details>

<details>
  <summary>Tenor GIFs trigger decode errors</summary>
  <p>
    Request a Tenor API key from{" "}
    <a href="https://developers.google.com/tenor/guides/quickstart">
      Google's Tenor portal
    </a>{" "}
    and store it in the <code>TENOR</code> variable.
  </p>
</details>

---

Need more help? Ask in #support on the <a href="https://gabe.net/support">Gabe Support server</a>.
