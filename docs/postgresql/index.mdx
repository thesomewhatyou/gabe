---
title: PostgreSQL
---

# PostgreSQL

Follow these steps to provision PostgreSQL for Gabe.

## 1. Install PostgreSQL

```bash
# Debian / Ubuntu
sudo apt-get install postgresql postgresql-client

# Fedora / RHEL
sudo dnf install postgresql postgresql-server

# Alpine
doas apk add postgresql

# Arch / Manjaro
sudo pacman -S postgresql
```

## 2. (Optional) Tune PostgreSQL

Use [PGTune](https://pgtune.leopard.in.ua/) to generate config values tailored to your hardware. Loading those settings improves stability and performance.

## 3. Create the bot role and database

PostgreSQL installs a system `postgres` superuser. Run these commands under that account without switching shells:

```bash
sudo su - postgres -c "createuser gabe"
sudo su - postgres -c "createdb gabe"
```

Open the PostgreSQL shell for additional setup:

```bash
sudo -u postgres psql
```

Inside `psql` you can set a password and transfer ownership:

```sql
ALTER USER gabe WITH PASSWORD 'new_password';
ALTER DATABASE gabe OWNER TO gabe;
```

## Troubleshooting

Permission errors like `permission denied for table counts` mean the role lacks privileges. Grant them inside `psql`:

```sql
\c gabe
GRANT ALL PRIVILEGES ON guilds TO gabe;
GRANT ALL PRIVILEGES ON counts TO gabe;
GRANT ALL PRIVILEGES ON tags TO gabe;
\q
```
