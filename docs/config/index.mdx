---
title: Config
---

# Config

Gabe relies on a mix of environment variables and JSON files. This page explains what lives where and how each field is used.

## Environment Variables (`.env`)

Copy `.env.example` to `.env` to load settings automatically at startup.

### Required

- `NODE_ENV` — Tunes the bot for development or production. If unsure, leave the default.
- `TOKEN` — Discord bot token from the [Developer Portal](https://discord.com/developers/applications) under **Bot**.
- `DB` — Database connection string. `sqlite` and `postgresql` drivers ship by default; drop additional drivers into `utils/database/` if you need more.
- `OWNER` — Discord user ID(s) allowed to run owner-only commands. Use commas to list multiple IDs (not recommended for security).
- `PREFIX` — Default prefix for legacy commands. Server admins can override it with the `prefix` command.
- `LOCALE` — Default message locale. The matching file must exist in `locales/`; interaction commands prefer the user’s client language.

### Optional

Enhance the bot with any of the following:

- `STAYVC` — Set to `true` to keep Gabe in voice chat after playback. Use `stop` to disconnect.
- `TENOR` — API key from [Tenor](https://tenor.com/gifapi) for GIF lookups.
- `REST_PROXY` — Alternate Discord REST endpoint, e.g. a proxy.
- `SENTRY_DSN` — DSN for optional [Sentry](https://sentry.io) error monitoring.
- `OUTPUT` — Directory where Markdown help docs are exported.
- `TEMPDIR` — Directory for generated assets that exceed Discord’s upload limit.
- `TMP_DOMAIN` — Public URL that maps to `TEMPDIR` (for sharing oversized assets).
- `THRESHOLD` — Max total size (in bytes) stored in `TEMPDIR` before old files are trimmed.
- `METRICS` — Port used to expose Prometheus-compatible metrics.
- `API_TYPE` — `none` to process images locally, or `ws` to use an external image server from `config/servers.json`.
- `ADMIN_SERVER` — Guild ID that limits owner-only commands (e.g., `eval`) to a specific server.

## JSON

Configuration JSON files live in `config/`.

### `commands.json`

```json5
{
  types: {
    classic: false, // Enable/disable prefixed commands (DMs remain enabled)
    application: true, // Enable/disable slash and context-menu commands
  },
  blacklist: [
    // Command names you do not want the bot to load
  ],
}
```

### `messages.json`

```json5
{
  emotes: [
    // Emote strings for "Processing…" status messages, e.g. "<a:processing:818243325891051581>" or "⚙️"
  ],
  messages: [
    // Activity strings shown in the bot's status
  ],
}
```

### `servers.json`

```json5
{
  lava: [
    // Lavalink connection details
    {
      name: "test", // Friendly name
      url: "localhost:2333", // Hostname/IP and port
      auth: "youshallnotpass", // Lavalink password
    },
  ],
  image: [
    // Image worker WebSocket backends
    {
      name: "test",
      server: "localhost", // Hostname or IP
      auth: "verycoolpass100", // Shared secret
      tls: false, // Use wss (true) or ws (false)
    },
  ],
  searx: [
    // URLs for Searx/SearXNG instances that support JSON results
  ],
}
```
