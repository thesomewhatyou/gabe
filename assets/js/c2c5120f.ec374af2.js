"use strict";(globalThis.webpackChunkgabe_docs=globalThis.webpackChunkgabe_docs||[]).push([[99],{2856:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"4.1. Config/config","title":"4.1. Config","description":"Gabe relies on a mix of environment variables and JSON files. This page explains what lives where and how each field is used.","source":"@site/docs/4.1. Config/index.mdx","sourceDirName":"4.1. Config","slug":"/config","permalink":"/gabe/docs/config","draft":false,"unlisted":false,"editUrl":"https://github.com/thesomewhatyou/gabe/tree/gh-pages/docs/4.1. Config/index.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"config","title":"4.1. Config","slug":"/config","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Setup","permalink":"/gabe/docs/setup"},"next":{"title":"4.2. Containers","permalink":"/gabe/docs/containers"}}');var i=s(4848),r=s(8453);const l={id:"config",title:"4.1. Config",slug:"/config",sidebar_position:1},d="Config",a={},c=[{value:"Environment Variables (<code>.env</code>)",id:"environment-variables-env",level:2},{value:"Required",id:"required",level:3},{value:"Optional",id:"optional",level:3},{value:"JSON",id:"json",level:2},{value:"<code>commands.json</code>",id:"commandsjson",level:3},{value:"<code>messages.json</code>",id:"messagesjson",level:3},{value:"<code>servers.json</code>",id:"serversjson",level:3},{value:"Setup .env vars on container",id:"setup-env-vars-on-container",level:3}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"config",children:"Config"})}),"\n",(0,i.jsx)(n.p,{children:"Gabe relies on a mix of environment variables and JSON files. This page explains what lives where and how each field is used."}),"\n",(0,i.jsxs)(n.h2,{id:"environment-variables-env",children:["Environment Variables (",(0,i.jsx)(n.code,{children:".env"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Copy ",(0,i.jsx)(n.code,{children:".env.example"})," to ",(0,i.jsx)(n.code,{children:".env"})," to load settings automatically at startup."]}),"\n",(0,i.jsx)(n.h3,{id:"required",children:"Required"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NODE_ENV"})," \u2014 Leave as is unless you know what you're doing."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TOKEN"})," \u2014 Discord bot token from the ",(0,i.jsx)(n.a,{href:"https://discord.com/developers/applications",children:"Developer Portal"})," under ",(0,i.jsx)(n.strong,{children:"Bot"})," section."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DB"})," \u2014 Database connection string. ",(0,i.jsx)(n.code,{children:"sqlite"})," and ",(0,i.jsx)(n.code,{children:"postgresql"})," drivers ship by default; drop additional drivers into ",(0,i.jsx)(n.code,{children:"utils/database/"})," if you need more."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OWNER"})," \u2014 Discord user ID(s) allowed to run owner-only commands. Commands like ",(0,i.jsx)(n.code,{children:"exec"})," and ",(0,i.jsx)(n.code,{children:"eval"})," can be run."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PREFIX"})," \u2014 Default prefix for legacy commands. Server admins can override it with the /prefix command."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LOCALE"})," \u2014 Default message locale. The matching file must exist in ",(0,i.jsx)(n.code,{children:"locales/"}),"; interaction commands prefer the user\u2019s client language."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"optional",children:"Optional"}),"\n",(0,i.jsx)(n.p,{children:"Enhance the bot with any of the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"STAYVC"})," \u2014 Set to ",(0,i.jsx)(n.code,{children:"true"})," to keep Gabe in voice chat after playback. Use ",(0,i.jsx)(n.code,{children:"stop"})," to disconnect."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TENOR"})," \u2014 API key from Google Cloud. Sometimes, to enable the Tenor API, you may have to wait a certain period of days."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"REST_PROXY"})," \u2014 Alternate Discord REST endpoint, e.g. a proxy."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"SENTRY_DSN"})," \u2014 DSN for optional ",(0,i.jsx)(n.a,{href:"https://sentry.io",children:"Sentry"})," error monitoring."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OUTPUT"})," \u2014 Directory where Markdown help docs are exported."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TEMPDIR"})," \u2014 Directory for generated assets that exceed Discord\u2019s upload limit."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TMP_DOMAIN"})," \u2014 Public URL that maps to ",(0,i.jsx)(n.code,{children:"TEMPDIR"})," (for sharing oversized assets)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"THRESHOLD"})," \u2014 Max total size (in bytes) stored in ",(0,i.jsx)(n.code,{children:"TEMPDIR"})," before old files are trimmed."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"METRICS"})," \u2014 Port used to expose Prometheus-compatible metrics."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"API_TYPE"})," \u2014 ",(0,i.jsx)(n.code,{children:"none"})," to process images locally, or ",(0,i.jsx)(n.code,{children:"ws"})," to use an external image server from ",(0,i.jsx)(n.code,{children:"config/servers.json"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ADMIN_SERVER"})," \u2014 Guild ID that limits such owner only commands to a server."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"json",children:"JSON"}),"\n",(0,i.jsxs)(n.p,{children:["Configuration JSON files live in ",(0,i.jsx)(n.code,{children:"config/"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"commandsjson",children:(0,i.jsx)(n.code,{children:"commands.json"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:"{\n  types: {\n    classic: false, // Enable/disable prefixed commands (DMs remain enabled)\n    application: true, // Enable/disable slash and context-menu commands\n  },\n  blacklist: [\n    // Command names you do not want the bot to load\n  ],\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"messagesjson",children:(0,i.jsx)(n.code,{children:"messages.json"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  emotes: [\n    // Emote strings for "Processing\u2026" status messages, e.g. "<a:processing:818243325891051581>" or "\u2699\ufe0f"\n  ],\n  messages: [\n    // Activity strings shown in the bot\'s status\n  ],\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"serversjson",children:(0,i.jsx)(n.code,{children:"servers.json"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json5",children:'{\n  lava: [\n    // Lavalink connection details\n    {\n      name: "test", // Friendly name\n      url: "localhost:2333", // Hostname/IP and port\n      auth: "youshallnotpass", // Lavalink password\n    },\n  ],\n  image: [\n    // Image worker WebSocket backends\n    {\n      name: "test",\n      server: "localhost", // Hostname or IP\n      auth: "verycoolpass100", // Shared secret\n      tls: false, // Use wss (true) or ws (false)\n    },\n  ],\n  searx: [\n    // URLs for Searx/SearXNG instances that support JSON results\n  ],\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setup-env-vars-on-container",children:"Setup .env vars on container"}),"\n",(0,i.jsx)(n.p,{children:"\xaf_(\u30c4)_/\xaf"}),"\n",(0,i.jsx)(n.p,{children:"I'm running on Node, so I can't help you."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var o=s(6540);const i={},r=o.createContext(i);function l(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);